{
  "version": 3,
  "sources": ["../../../src/email.js", "../../../src/github.js", "../../../src/index.js"],
  "sourceRoot": "/Users/river/Fun/trans-project/worker/.wrangler/tmp/deploy-t8NVpL",
  "sourcesContent": ["import { EmailMessage } from 'cloudflare:email';\n\nfunction createMimeMessage({ from, to, replyTo, subject, text }) {\n  const messageId = `<${Date.now()}.${crypto.randomUUID()}@${from.split('@')[1]}>`;\n\n  const headers = [\n    `From: ${from}`,\n    `To: ${to}`,\n    `Reply-To: ${replyTo}`,\n    `Subject: ${subject}`,\n    `Message-ID: ${messageId}`,\n    `Date: ${new Date().toUTCString()}`,\n    `MIME-Version: 1.0`,\n    `Content-Type: text/plain; charset=utf-8`,\n    `Content-Transfer-Encoding: 7bit`,\n  ].join('\\r\\n');\n\n  const message = [headers, '', text].join('\\r\\n');\n\n  return new EmailMessage(from, to, message);\n}\n\nexport async function sendEmail(env, { subject, message, replyTo, imageUrls }) {\n  if (!env.SENDER_EMAIL || !env.DESTINATION_EMAIL) {\n    throw new Error('Email configuration missing: SENDER_EMAIL or DESTINATION_EMAIL not set');\n  }\n\n  if (!env.EMAIL) {\n    throw new Error('Email binding not configured');\n  }\n\n  try {\n    let text = `Submission:\\n\\n${message}`;\n    if (imageUrls && imageUrls.length > 0) {\n      text += '\\n\\nImages:\\n' + imageUrls.join('\\n');\n    }\n\n    const emailMessage = createMimeMessage({\n      from: env.SENDER_EMAIL,\n      to: env.DESTINATION_EMAIL,\n      replyTo: replyTo || env.SENDER_EMAIL,\n      subject: subject || 'New Submission',\n      text,\n    });\n\n    await env.EMAIL.send(emailMessage);\n  } catch (error) {\n    throw new Error(`Failed to send email: ${error.message}`);\n  }\n}\n", "export async function getResponses(env) {\n  const GITHUB_TOKEN = env.GITHUB_TOKEN;\n  const GITHUB_REPO = env.GITHUB_REPO;\n  const GITHUB_OWNER = env.GITHUB_OWNER;\n\n  if (!GITHUB_TOKEN || !GITHUB_REPO || !GITHUB_OWNER) {\n    throw new Error('GitHub configuration missing: GITHUB_TOKEN, GITHUB_REPO, or GITHUB_OWNER not set');\n  }\n\n  const headers = {\n    'Authorization': `token ${GITHUB_TOKEN}`,\n    'Accept': 'application/vnd.github.v3+json',\n    'User-Agent': 'Cloudflare-Worker',\n  };\n\n  try {\n    // List all items in responses directory\n    const listUrl = `https://api.github.com/repos/${GITHUB_OWNER}/${GITHUB_REPO}/contents/responses`;\n    const listResp = await fetch(listUrl, { headers });\n\n    if (!listResp.ok) {\n      if (listResp.status === 404) {\n        return { items: [] };\n      }\n      const text = await listResp.text();\n      let errorMsg = text;\n      try {\n        const error = JSON.parse(text);\n        errorMsg = error.message || error.error || text;\n      } catch (e) {}\n      throw new Error(`Failed to list responses (${listResp.status}): ${errorMsg}`);\n    }\n\n    const items = await listResp.json();\n    if (!Array.isArray(items)) {\n      throw new Error('Expected array response from GitHub API');\n    }\n\n    // Filter for directories and sort by timestamp descending (newest first)\n    const responseTimestamps = items\n      .filter((item) => item.type === 'dir')\n      .map((item) => item.name)\n      .sort((a, b) => parseInt(b, 10) - parseInt(a, 10));\n\n    // Fetch details for each response\n    const responses = [];\n    for (const timestamp of responseTimestamps) {\n      try {\n        const dirUrl = `https://api.github.com/repos/${GITHUB_OWNER}/${GITHUB_REPO}/contents/responses/${timestamp}`;\n        const dirResp = await fetch(dirUrl, { headers });\n\n        if (!dirResp.ok) continue;\n\n        const dirItems = await dirResp.json();\n        if (!Array.isArray(dirItems)) continue;\n\n        // Get response.md content\n        const mdFile = dirItems.find((item) => item.name === 'response.md');\n        let message = '';\n        if (mdFile && mdFile.download_url) {\n          try {\n            const mdResp = await fetch(mdFile.download_url);\n            if (mdResp.ok) {\n              message = await mdResp.text();\n            }\n          } catch (e) {\n            console.error(`Failed to fetch response.md for ${timestamp}:`, e);\n          }\n        }\n\n        // Get image files\n        const images = dirItems\n          .filter((item) => item.type === 'file' && /^image\\d+\\.(jpg|jpeg|png|gif|webp)$/i.test(item.name))\n          .map((item) => ({\n            name: item.name,\n            path: `responses/${timestamp}/${item.name}`,\n            downloadUrl: item.download_url,\n          }))\n          .sort((a, b) => {\n            // Sort images by number\n            const numA = parseInt(a.name.match(/\\d+/)[0], 10);\n            const numB = parseInt(b.name.match(/\\d+/)[0], 10);\n            return numA - numB;\n          });\n\n        responses.push({\n          id: timestamp,\n          message: message.trim(),\n          images: images.map((img) => img.downloadUrl),\n          createdAt: new Date(parseInt(timestamp, 10) * 1000).toISOString(),\n        });\n      } catch (e) {\n        console.error(`Failed to fetch response ${timestamp}:`, e);\n        continue;\n      }\n    }\n\n    return { items: responses };\n  } catch (error) {\n    throw new Error(`Failed to list responses: ${error.message}`);\n  }\n}\n\nexport async function updateGithub(env, { message, files, lang, createdAt }) {\n  const GITHUB_TOKEN = env.GITHUB_TOKEN;\n  const GITHUB_REPO = env.GITHUB_REPO;\n  const GITHUB_OWNER = env.GITHUB_OWNER;\n\n  if (!GITHUB_TOKEN || !GITHUB_REPO || !GITHUB_OWNER) {\n    throw new Error('GitHub configuration missing: GITHUB_TOKEN, GITHUB_REPO, or GITHUB_OWNER not set');\n  }\n\n  const headers = {\n    'Authorization': `token ${GITHUB_TOKEN}`,\n    'Accept': 'application/vnd.github.v3+json',\n    'User-Agent': 'Cloudflare-Worker',\n  };\n\n  try {\n    const timestamp = Math.floor(Date.now() / 1000).toString();\n    const imageUrls = [];\n\n    // Add response.md file\n    const mdContent = message;\n    const encoder = new TextEncoder();\n    const mdContentBase64 = btoa(String.fromCharCode(...encoder.encode(mdContent)));\n    const mdResp = await fetch(\n      `https://api.github.com/repos/${GITHUB_OWNER}/${GITHUB_REPO}/contents/responses/${timestamp}/response.md`,\n      {\n        method: 'PUT',\n        headers,\n        body: JSON.stringify({\n          message: `Add response ${timestamp}`,\n          content: mdContentBase64,\n        }),\n      }\n    );\n\n    if (!mdResp.ok) {\n      const text = await mdResp.text();\n      let errorMsg = text;\n      try {\n        const error = JSON.parse(text);\n        errorMsg = error.message || error.error || text;\n      } catch (e) {\n        // Response wasn't JSON, use raw text\n      }\n      throw new Error(`Failed to create response.md (${mdResp.status}): ${errorMsg}`);\n    }\n\n    // Add image files\n    for (let i = 0; i < files.length; i++) {\n      const file = files[i];\n      if (!(file.type || '').startsWith('image/')) continue;\n\n      const ext = file.type.split('/')[1];\n      const fileName = `image${i + 1}.${ext}`;\n\n      const imgResp = await fetch(\n        `https://api.github.com/repos/${GITHUB_OWNER}/${GITHUB_REPO}/contents/responses/${timestamp}/${fileName}`,\n        {\n          method: 'PUT',\n          headers,\n          body: JSON.stringify({\n            message: `Add response ${timestamp}`,\n            content: file.data,\n          }),\n        }\n      );\n\n      if (!imgResp.ok) {\n        const text = await imgResp.text();\n        let errorMsg = text;\n        try {\n          const error = JSON.parse(text);\n          errorMsg = error.message || error.error || text;\n        } catch (e) {\n          // Response wasn't JSON, use raw text\n        }\n        throw new Error(`Failed to upload image ${fileName} (${imgResp.status}): ${errorMsg}`);\n      }\n\n      imageUrls.push(`https://cdn.jsdelivr.net/gh/${GITHUB_OWNER}/${GITHUB_REPO}@main/responses/${timestamp}/${fileName}`);\n    }\n\n    return { timestamp, imageUrls };\n  } catch (error) {\n    throw new Error(`GitHub update failed: ${error.message}`);\n  }\n}\n", "import { sendEmail } from './email.js';\nimport { updateGithub, getResponses } from './github.js';\n\nexport default {\n  async fetch(request, env, ctx) {\n    if (request.method === 'OPTIONS') {\n      return handleCORS();\n    }\n\n    const url = new URL(request.url);\n\n    // GET /responses - List all responses from GitHub\n    if (request.method === 'GET' && url.pathname === '/responses') {\n      try {\n        const data = await getResponses(env);\n        return new Response(JSON.stringify(data), {\n          status: 200,\n          headers: corsHeaders(),\n        });\n      } catch (error) {\n        console.error('Error fetching responses:', error);\n        return new Response(\n          JSON.stringify({\n            success: false,\n            error: 'Failed to fetch responses',\n            details: error.message,\n          }),\n          {\n            status: 500,\n            headers: corsHeaders(),\n          }\n        );\n      }\n    }\n\n    if (request.method !== 'POST') {\n      return new Response(JSON.stringify({ error: 'Method not allowed' }), {\n        status: 405,\n        headers: corsHeaders(),\n      });\n    }\n\n    if (!request.headers.get('content-type')?.includes('application/json')) {\n      return new Response(JSON.stringify({ error: 'Content-Type must be application/json' }), {\n        status: 400,\n        headers: corsHeaders(),\n      });\n    }\n\n    const raw = await request.text();\n    let body;\n    try {\n      body = JSON.parse(raw);\n    } catch {\n      return new Response(JSON.stringify({ error: 'Request body must be valid JSON' }), {\n        status: 400,\n        headers: corsHeaders(),\n      });\n    }\n\n    const { subject, message, replyTo, honeypot, files, lang } = body;\n\n    if (honeypot) {\n      return new Response(JSON.stringify({ success: true }), {\n        status: 200,\n        headers: corsHeaders(),\n      });\n    }\n\n    if (!message) {\n      return new Response(\n        JSON.stringify({ error: 'Missing required fields: message' }),\n        { status: 400, headers: corsHeaders() }\n      );\n    }\n\n    const safeFiles = Array.isArray(files) ? files.slice(0, 10) : [];\n\n    try {\n      // First, commit to GitHub\n      const { imageUrls } = await updateGithub(env, {\n        message,\n        files: safeFiles,\n        lang: lang === 'en' ? 'en' : 'de',\n      });\n\n      // Then send email with jsdelivr URLs\n      try {\n        await sendEmail(env, {\n          subject: subject || 'New Submission',\n          message,\n          replyTo,\n          imageUrls,\n        });\n      } catch (emailError) {\n        console.error('Email send failed:', emailError);\n        return new Response(\n          JSON.stringify({\n            success: true,\n            warning: 'Submission saved but email notification failed.',\n          }),\n          {\n            status: 202,\n            headers: corsHeaders(),\n          }\n        );\n      }\n\n      return new Response(JSON.stringify({ success: true }), {\n        status: 200,\n        headers: corsHeaders(),\n      });\n    } catch (error) {\n      console.error('GitHub update failed:', error);\n      return new Response(\n        JSON.stringify({\n          success: false,\n          error: 'Failed to save submission',\n          details: error.message,\n        }),\n        {\n          status: 500,\n          headers: corsHeaders(),\n        }\n      );\n    }\n  },\n};\n\nfunction corsHeaders() {\n  return {\n    'Content-Type': 'application/json',\n    'Access-Control-Allow-Origin': '*',\n    'Access-Control-Allow-Methods': 'POST, OPTIONS',\n    'Access-Control-Allow-Headers': 'Content-Type',\n  };\n}\n\nfunction handleCORS() {\n  return new Response(null, { status: 204, headers: corsHeaders() });\n}\n"],
  "mappings": "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",
  "names": []
}
